<umb-load-indicator ng-if="vm.loading === true"></umb-load-indicator>

<umb-box ng-if="(vm.hasContentReferences === false) && (vm.hasContentReferencesInDescendants === false) && (vm.hasMediaReferences === false) && (vm.hasMediaReferencesInDescendants === false) && (vm.hasMemberReferences === false) && (vm.hasMemberReferencesInDescendants === false) && vm.loading === false && vm.hideNoResult === false">
    <umb-box-header title-key="references_tabName"></umb-box-header>
    <umb-box-content>
        <umb-empty-state size="small">
            This item has no references
        </umb-empty-state>
    </umb-box-content>
</umb-box>

<!-- Media Tracking (With Items) -->
<div ng-if="vm.loading === false">

    <div class="abstract umb-alert umb-alert--warning" ng-show="vm.showWarning">
        {{vm.warningText}}
    </div>

    <!-- Content -->
    <div ng-if="vm.hasContentReferences">
        <umb-tracked-references-table items="vm.contentReferences.items"
                                      total-pages="vm.contentReferences.totalPages"
                                      page-number="vm.contentReferences.pageNumber"
                                      title="vm.contentReferencesTitle"
                                      on-page-changed="vm.changeContentPageNumber(pageNumber)">
        </umb-tracked-references-table>
    </div>

    <div ng-if="vm.hasContentReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByDocuments">Used in Documents</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInContentDescendants">One or more of this item's descendants is being used in a content item.</localize>
            </umb-box-content>
        </umb-box>
    </div>

    <div ng-if="vm.hasContentReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByDocuments">Used in Documents</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInContentDescendants">One or more of this item's descendants is being used in a content item.</localize>
            </umb-box-content>
        </umb-box>
    </div>

    <!-- Members -->
    <div ng-if="vm.hasMemberReferences">
        <umb-tracked-references-table items="vm.memberReferences.items"
                                      total-pages="vm.memberReferences.totalPages"
                                      page-number="vm.memberReferences.pageNumber"
                                      title="vm.memberReferencesTitle"
                                      on-page-changed="vm.changeMemberPageNumber(pageNumber)">
        </umb-tracked-references-table>
    </div>

    <div ng-if="vm.hasMemberReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByMembers">Used in Members</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInMemberDescendants">One or more of this item's descendants is being used in a a member</localize>
            </umb-box-content>
        </umb-box>
    </div>

    <div ng-if="vm.hasMemberReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByMembers">Used in Members</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInMemberDescendants">One or more of this item's descendants is being used in a a member</localize>
            </umb-box-content>
        </umb-box>
    </div>

    <!-- Media -->
    <div ng-if="vm.hasMediaReferences">
        <umb-tracked-references-table items="vm.mediaReferences.items"
                                      total-pages="vm.mediaReferences.totalPages"
                                      page-number="vm.mediaReferences.pageNumber"
                                      title="vm.mediaReferencesTitle"
                                      on-page-changed="vm.changeMediaPageNumber(pageNumber)">
        </umb-tracked-references-table>
    </div>

    <div ng-if="vm.hasMediaReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByMedia">Used in Media</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInMediaDescendants">One or more of this item's descendants is being used in a media item</localize>
            </umb-box-content>
        </umb-box>
    </div>

    <div ng-if="vm.hasMediaReferencesInDescendants">
        <h5 class="mt0" style="margin-bottom: 20px;">
            <localize key="references_labelUsedByMedia">Used in Media</localize>
        </h5>

        <umb-box>
            <umb-box-content>
                <localize key="references_labelUsedInMediaDescendants">One or more of this item's descendants is being used in a media item</localize>
            </umb-box-content>
        </umb-box>
    </div>

</div>
